jQuery(function(a){function c(b,c){var c=c?c:"error",d=a("div.wclsc-"+c),e=a("<p />").html(b);if(!d.length){var d=a("<div />").addClass(c).addClass("wclsc-"+c).hide();a(".wrap h2").after(d)}d.is(":visible")||d.hide(),d.html(e).fadeIn("fast")}function d(b){var b=b?b:"error",c=a("div.wclsc-"+b);c.fadeOut("fast",function(){c.remove()})}var b=a("<input />").attr("type","button").addClass("wclsc-lookup-account-id").addClass("button").attr("value",wclsc_vars.lookup_account_text);b.on("click",function(b){b.preventDefault();var e=a("input#"+wclsc_vars.opt_prefix+"api_key").val();if(!e)return c(wclsc_vars.api_key_error,"error"),!1;d("error");var f=a("<span />").addClass("spinner").addClass("wclsc-spinner");return a(this).after(f),a.ajax({url:wclsc_vars.ajax_url,type:"post",dataType:"json",data:{action:"wclsc_lookup_account_id",api_key:e},success:function(b){f.remove(),b.success?(a("input#"+wclsc_vars.opt_prefix+"account_id").val(b.account_id),c(wclsc_vars.account_success_text,"updated")):c(b.error_message,"error")}}),!1}),a("input#"+wclsc_vars.opt_prefix+"account_id").after(b),a("input.wclsc-clear-log").on("click",function(b){return b.preventDefault(),confirm(wclsc_vars.confirm_clear_log)?(a.ajax({url:wclsc_vars.ajax_url,type:"post",dataType:"json",data:{action:"wclsc_clear_error_log"},success:function(b){b.success?(a("textarea."+wclsc_vars.opt_prefix+"error_log").replaceWith(a("<p />").html(wclsc_vars.no_errors_message)),c(wclsc_vars.logs_clear_text,"updated")):c(b.error_message,"error")}}),void 0):!1});var e=a(".lightspeed-order-details");e.length&&(e.appendTo("#order_data"),a('a[href^="#lightspeed-order-details"]').on("click",function(){var b=a(".lightspeed-order-details");return b.is(":visible")?a(this).text(a(this).text().replace("Hide","Show")):a(this).text(a(this).text().replace("Show","Hide")),b.slideToggle("fast"),!1}),a('a[href^="#lightspeed-sale-object"]').on("click",function(){var b=a(".lightspeed-sale-object");return b.is(":visible")?a(this).text(a(this).text().replace("Hide","Show")):a(this).text(a(this).text().replace("Show","Hide")),b.slideToggle("fast"),!1}))});
